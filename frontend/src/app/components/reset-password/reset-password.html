<div class="page-container">
  <div class="content-area">
    <div class="left-content"></div>

    <div class="right-content">
      <div class="login-card">

        <h1 class="login-title">
          New Password <img src="assets/icons/farm-icon.png" class="login-icon">
        </h1>

        <p class="instruction-text">
          Please enter your new password below to regain access to your account.
        </p>

        <form (ngSubmit)="onResetPassword()" #resetForm="ngForm">

          <label>New Password</label>
          <div class="password-row">
            <input [type]="showPassword ? 'text' : 'password'"
                   name="password"
                   [(ngModel)]="resetData.password"
                   required
                   placeholder="At least 8 characters"
                   [class.error-input]="errorMap['password']">

            <button type="button" class="password-toggle" (click)="togglePassword()" tabindex="-1">
              <img [src]="showPassword ? 'assets/icons/eye-open.svg' : 'assets/icons/eye-closed.svg'" class="eye-icon">
            </button>
          </div>
          @if (errorMap['password']) {
          <div class="error-msg">{{ errorMap['password'] }}</div>
          }

          <label>Confirm Password</label>
          <div class="password-row">
            <input [type]="showPassword2 ? 'text' : 'password'"
                   name="confirmPassword"
                   [(ngModel)]="resetData.confirmPassword"
                   required
                   placeholder="Repeat your password"
                   [class.error-input]="errorMap['confirmPassword']">

            <button type="button" class="password-toggle" (click)="togglePassword2()" tabindex="-1">
              <img [src]="showPassword2 ? 'assets/icons/eye-open.svg' : 'assets/icons/eye-closed.svg'" class="eye-icon">
            </button>
          </div>
          @if (errorMap['confirmPassword']) {
          <div class="error-msg">{{ errorMap['confirmPassword'] }}</div>
          }

          <button type="submit" [disabled]="resetForm.invalid" class="signin-btn">
            Update Password
          </button>

        </form>

        <div class="signup-row">
          <a routerLink="/login">Cancel and return to Login</a>
        </div>

      </div>
    </div>
  </div>
</div>
